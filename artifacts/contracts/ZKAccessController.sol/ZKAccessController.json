{
  "_format": "hh-sol-artifact-1",
  "contractName": "ZKAccessController",
  "sourceName": "contracts/ZKAccessController.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_kycRegistry",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidMerkleRoot",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidProof",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidRecipient",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NullifierAlreadyUsed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UntrustedIssuer",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "AccessDenied",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_nullifierHash",
          "type": "bytes32"
        }
      ],
      "name": "isNullifierSpent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_issuer",
          "type": "address"
        }
      ],
      "name": "isTrustedIssuer",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_merkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "isValidMerkleRoot",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "kycRegistry",
      "outputs": [
        {
          "internalType": "contract KYCRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifier",
      "outputs": [
        {
          "internalType": "contract ZKKYCVerifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "_pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "_pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "_pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "bytes32",
          "name": "_merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "_nullifierHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "_issuerAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_recipient",
          "type": "address"
        }
      ],
      "name": "verifyAndGrantAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b506040516108bd3803806108bd83398101604081905261002f91610062565b6001600160a01b039182166080521660a052610095565b80516001600160a01b038116811461005d57600080fd5b919050565b6000806040838503121561007557600080fd5b61007e83610046565b915061008c60208401610046565b90509250929050565b60805160a0516107d46100e96000396000606c01526000818160b0015281816101490152818161024c015281816103420152818161043d01528181610526015281816105e4015261063d01526107d46000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80632b7ac3f3146100675780634b155b97146100ab578063d5a4e325146100d2578063e40d4726146100f5578063e9cd3b371461010a578063ef2ed1a41461011d575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6100e56100e036600461066e565b610130565b60405190151581526020016100a2565b6101086101033660046106b4565b6101c3565b005b6100e561011836600461066e565b6105cb565b6100e561012b36600461073a565b61061b565b60405163394a177360e21b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063e5285dcc906024015b602060405180830381865afa158015610199573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101bd919061075c565b92915050565b6001600160a01b0381163314610236576040805181815260118183015270125b9d985b1a59081c9958da5c1a595b9d607a1b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051634e46966960e11b815260040160405180910390fd5b60405163394a177360e21b8152600481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063e5285dcc90602401602060405180830381865afa15801561029b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bf919061075c565b1561032c576040805181815260168183015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051636569570160e11b815260040160405180910390fd5b604051636d9833e360e01b8152600481018590527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636d9833e390602401602060405180830381865afa158015610391573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b5919061075c565b61041e576040805181815260138183015272125b9d985b1a59081b595c9adb19481c9bdbdd606a1b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051639dd854d360e01b815260040160405180910390fd5b6040516392c54daf60e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906392c54daf90602401602060405180830381865afa158015610484573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104a8919061075c565b61050e57604080518181526010818301526f2ab73a393ab9ba32b21034b9b9bab2b960811b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051633eb89d5f60e11b815260040160405180910390fd5b6001604051632c00028760e01b8152600481018590527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632c00028790602401600060405180830381600087803b15801561057257600080fd5b505af1158015610586573d6000803e3d6000fd5b50506040514281528692503391507f740f94aa8a0b62b43ecf22a25c109ef49e58304a81569654657a00b96c2c513e9060200160405180910390a35050505050505050565b604051636d9833e360e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636d9833e39060240161017c565b6040516392c54daf60e01b81526001600160a01b0382811660048301526000917f0000000000000000000000000000000000000000000000000000000000000000909116906392c54daf9060240161017c565b60006020828403121561068057600080fd5b5035919050565b80604081018310156101bd57600080fd5b80356001600160a01b03811681146106af57600080fd5b919050565b6000806000806000806000610180888a0312156106d057600080fd5b6106da8989610687565b965060c08801898111156106ed57600080fd5b6040890196506106fd8a82610687565b9550506101008801359350610120880135925061071d6101408901610698565b915061072c6101608901610698565b905092959891949750929550565b60006020828403121561074c57600080fd5b61075582610698565b9392505050565b60006020828403121561076e57600080fd5b8151801515811461075557600080fdfe62b5c69e0e07df28ae25d1bf8d8b0080cec2828f75211617112aee1f1138cf7ea2646970667358221220e0d6861076a58acefe2b05161a97f58f4b00768cfd0fd00aa771611c1d4e7b0264736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c80632b7ac3f3146100675780634b155b97146100ab578063d5a4e325146100d2578063e40d4726146100f5578063e9cd3b371461010a578063ef2ed1a41461011d575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6100e56100e036600461066e565b610130565b60405190151581526020016100a2565b6101086101033660046106b4565b6101c3565b005b6100e561011836600461066e565b6105cb565b6100e561012b36600461073a565b61061b565b60405163394a177360e21b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063e5285dcc906024015b602060405180830381865afa158015610199573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101bd919061075c565b92915050565b6001600160a01b0381163314610236576040805181815260118183015270125b9d985b1a59081c9958da5c1a595b9d607a1b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051634e46966960e11b815260040160405180910390fd5b60405163394a177360e21b8152600481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063e5285dcc90602401602060405180830381865afa15801561029b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bf919061075c565b1561032c576040805181815260168183015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051636569570160e11b815260040160405180910390fd5b604051636d9833e360e01b8152600481018590527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636d9833e390602401602060405180830381865afa158015610391573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b5919061075c565b61041e576040805181815260138183015272125b9d985b1a59081b595c9adb19481c9bdbdd606a1b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051639dd854d360e01b815260040160405180910390fd5b6040516392c54daf60e01b81526001600160a01b0383811660048301527f000000000000000000000000000000000000000000000000000000000000000016906392c54daf90602401602060405180830381865afa158015610484573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104a8919061075c565b61050e57604080518181526010818301526f2ab73a393ab9ba32b21034b9b9bab2b960811b60608201524260208201529051339160008051602061077f833981519152919081900360800190a2604051633eb89d5f60e11b815260040160405180910390fd5b6001604051632c00028760e01b8152600481018590527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632c00028790602401600060405180830381600087803b15801561057257600080fd5b505af1158015610586573d6000803e3d6000fd5b50506040514281528692503391507f740f94aa8a0b62b43ecf22a25c109ef49e58304a81569654657a00b96c2c513e9060200160405180910390a35050505050505050565b604051636d9833e360e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636d9833e39060240161017c565b6040516392c54daf60e01b81526001600160a01b0382811660048301526000917f0000000000000000000000000000000000000000000000000000000000000000909116906392c54daf9060240161017c565b60006020828403121561068057600080fd5b5035919050565b80604081018310156101bd57600080fd5b80356001600160a01b03811681146106af57600080fd5b919050565b6000806000806000806000610180888a0312156106d057600080fd5b6106da8989610687565b965060c08801898111156106ed57600080fd5b6040890196506106fd8a82610687565b9550506101008801359350610120880135925061071d6101408901610698565b915061072c6101608901610698565b905092959891949750929550565b60006020828403121561074c57600080fd5b61075582610698565b9392505050565b60006020828403121561076e57600080fd5b8151801515811461075557600080fdfe62b5c69e0e07df28ae25d1bf8d8b0080cec2828f75211617112aee1f1138cf7ea2646970667358221220e0d6861076a58acefe2b05161a97f58f4b00768cfd0fd00aa771611c1d4e7b0264736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
